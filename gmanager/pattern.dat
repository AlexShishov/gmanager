<?php
// кодировка UTF-8
/**
 * 
 * This software is distributed under the GNU LGPL v3.0 license.
 * @author Gemorroj
 * @copyright 2008-2009 http://wapinet.ru
 * @license http://www.gnu.org/licenses/lgpl-3.0.txt
 * @link http://wapinet.ru/gmanager/
 * @version 0.7 alpha
 * 
 * PHP version >= 5.2.1
 * 
 */



// Шаблоны для SQL запросов
// Первый эелемент - имя, второй - SQL запрос
$sql_ptn[0][0] = 'Нет';
$sql_ptn[0][1] = '';

$sql_ptn[1][0] = 'SHOW DATABASES';
$sql_ptn[1][1] = 'SHOW DATABASES;';

$sql_ptn[2][0] = 'SHOW TABLES';
$sql_ptn[2][1] = 'SHOW TABLES;';

$sql_ptn[3][0] = 'USE `database`';
$sql_ptn[3][1] = 'USE ``;';

$sql_ptn[4][0] = 'SELECT * FROM `table`';
$sql_ptn[4][1] = 'SELECT * FROM ``;';

$sql_ptn[5][0] = 'UPDATE `table` SET `` = \'\'';
$sql_ptn[5][1] = 'UPDATE `` SET `` = \'\';';

$sql_ptn[6][0] = 'INSERT INTO `table` () VALUES ()';
$sql_ptn[6][1] = 'INSERT INTO `` () VALUES ();';

$sql_ptn[7][0] = 'ALTER TABLE `table`';
$sql_ptn[7][1] = 'ALTER TABLE ``;';

$sql_ptn[8][0] = 'DROP DATABASE `db`';
$sql_ptn[8][1] = 'DROP DATABASE ``;';

$sql_ptn[9][0] = 'CREATE DATABASE `db`';
$sql_ptn[9][1] = 'CREATE DATABASE `` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;';

$sql_ptn[10][0] = 'CREATE TABLE `table`';
$sql_ptn[10][1] = 'CREATE TABLE ``;';

$sql_ptn[11][0] = 'TRUNCATE TABLE `table`';
$sql_ptn[11][1] = 'TRUNCATE TABLE ``;';

$sql_ptn[12][0] = 'DELETE FROM `table`';
$sql_ptn[12][1] = 'DELETE FROM ``;';

$sql_ptn[13][0] = 'DESCRIBE `table`';
$sql_ptn[13][1] = 'DESCRIBE ``;';


// Шаблоны для записи в созаваемые файлы
// Первый эелемент - имя, второй - текст, который будет вставлен в созданный файл
$pattern[0][0] = 'Нет';
$pattern[0][1] = '';


$pattern[1][0] = 'php';
$pattern[1][1] = '<?php

?>';


$pattern[2][0] = 'xhtml';
$pattern[2][1] = '<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru">
<head>
<title></title>
</head>
<body>
<div>

</div>
</body>
</html>';


$pattern[3][0] = 'xhtml mobile';
$pattern[3][1] = '<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.0//EN" "http://www.wapforum.org/DTD/xhtml-mobile10.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru">
<head>
<title></title>
</head>
<body>
<div>

</div>
</body>
</html>';


$pattern[4][0] = 'html';
$pattern[4][1] = '<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title></title>
</head>
<body>

</body>
</html>';


$pattern[5][0] = 'wml';
$pattern[5][1] = '<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE wml PUBLIC "-//WAPFORUM//DTD WML 1.3//EN" "http://www.wapforum.org/DTD/wml_1.3.xml">
<wml>
<card id="card1" title="">
<p>

</p>
</card>
</wml>';


$pattern[6][0] = 'php xhtml';
$pattern[6][1] = '<?php
if(substr_count($_SERVER[\'HTTP_USER_AGENT\'], \'MSIE\')){
header(\'Content-type: text/html; charset=UTF-8\');
}
else{
header(\'Content-type: application/xhtml+xml; charset=UTF-8\');
}
print \'<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru">
<head>
<title></title>
</head>
<body>
<div>\';

print \'</div></body></html>\';
?>';


$pattern[7][0] = 'php xhtml mobile';
$pattern[7][1] = '<?php
if(substr_count($_SERVER[\'HTTP_USER_AGENT\'], \'MSIE\')){
header(\'Content-type: text/html; charset=UTF-8\');
}
else{
header(\'Content-type: application/xhtml+xml; charset=UTF-8\');
}
print \'<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.0//EN" "http://www.wapforum.org/DTD/xhtml-mobile10.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru">
<head>
<title></title>
</head>
<body>
<div>\';

print \'</div></body></html>\';
?>';


$pattern[8][0] = 'php html';
$pattern[8][1] = '<?php
header(\'Content-Type: text/html; charset=utf-8\');
print \'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title></title>
</head>
<body>\';

print \'</body></html>\';
?>';


$pattern[9][0] = 'php wml';
$pattern[9][1] = '<?php
header(\'Content-Type: text/vnd.wap.wml; charset=utf-8\');
print \'<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE wml PUBLIC "-//WAPFORUM//DTD WML 1.3//EN" "http://www.wapforum.org/DTD/wml_1.3.xml">
<wml>
<card id="card1" title="">
<p>\';

print \'</p></card></wml>\';
?>';


$pattern[10][0] = '.htaccess';
$pattern[10][1] = '# Запрет на просмотр файлов
<Files ~ ".dat$|.htaccess$|.inc$|.ini$|.cfg$|.log$|.class.php$|.inc.php$|config.php$">
Order allow,deny
Deny from All
Satisfy All
</Files>

DirectoryIndex index.php index.htm index.html index.wml index.xhtml index.phtml

# MIME тип по умолчанию
php_value default_mimetype text/html

# Глобальные переменные
php_flag register_globals Off

# Магические кавычки
php_flag magic_quotes_gpc Off
php_flag magic_quotes_runtime Off
php_flag magic_quotes_sybase Off

# Не создаются переменные argc и argv
php_flag register_argc_argv Off

# Автоматическое подставление идентификатора сессии к ссылкам
php_flag session.use_trans_sid On
# Разделитель переменных в URI
php_value arg_separator.output "&amp;"

# Отладка
php_flag display_errors Off
php_value error_reporting 0
php_flag log_errors Off

# Запрет на просмотр директорий без индексного файла
Options -Indexes

# Кодировка по умолчанию
php_value default_charset UTF-8
AddDefaultCharset UTF-8

# Страницы ошибок
ErrorDocument 403 /
ErrorDocument 404 /';
?>